Bonjour, 

Commençons doucement avec un CTF Classique. J'ai déjà réalisé ce dernier il y a un ou deux ans mais c'était l'occasion de constater ma progression. 

Le résultat a été plutôt satisfaisant car ce CTF m'avait posé de nombreuses difficultés à mes débuts, et je me souviens avoir passé des heures dessus à ne pas comprendre pourquoi nous faisons telle ou telle action. 

Deux ans plus tard, tout est devenu clair, fluide, limpide. Les actions s'enchainent et en moins de 20mn, tout était fini (sachant que le brute force ssh avait pris 7mn). 

Bref, maintenant que je comprends mieux les process, il est temps de mieux comprendre les outils. Pour ce CTF, les étapes sont : 

-nmap
-gobuster
-verification du site et des directories
-smbclient
-recuperation d'identifiants avec information sur la faiblesse du mdp d'une personne
-brute force ssh avec Hydra
-connexion ssh
-reconnaissance interne, avec ls -la
-découverte de clé RSA, cassage du mot de passe avec ssh2john
-chmod 600 pour avoir les permissions nécessaires (sinon cela ne marchera pas)
-connexion ssh avec deuxième identifiant, et clé rsa. 
-> C'est tout

L'idée maintenant est donc de coder des programmes qui peuvent reproduire ces actions sans utiliser les outils. En gros : 
-> faire un nmap basique
-> faire un gobuster basique
-> faire un smbclient 
-> voir comment intégrer du scrapping et de la recherche d'information pertinente (je pense que cette partie est l'une des seuls qu'il faudra toujours double checker manuellement).
-> faire un hydra
-> voir ce qui est possible de faire avec Python et SSH
-> script bash pour automatiser la reconnaissance interne (SUID, crontab, Path, et des options conditionnelles par exemple, si nous mettons un mdp, nous regardons sudo -l etc etc…). 
-> Penser aussi à programmer quelque chose pour effectuer une recherche automatique après reconnaissance, par exemple pour SUID, enlever tous les outputs qui ne présentent pas de vecteur d'escalade et pour le reste, chercher sur Gtfobins s'il y a presence puis sur internet. 
-> faire un john/ssh2john et tester avec clé RSA


Nous ne ferons bien sûr pas tout dès le premier jour mais cela donne un aperçu de la démarche adoptée. 
 